#!/bin/bash
# Launch or focus work browser with default profile

# Check if any chromium window already exists (excluding Slack which uses chromium)
if hyprctl clients | grep "class: chromium" | grep -v "slack" > /dev/null 2>&1; then
    # Focus existing chromium window
    hyprctl dispatch focuswindow "class:^(chromium)$"
    
    # If URL was provided, open it in existing window
    if [ -n "$1" ]; then
        # Send the URL to the existing Chromium instance
        chromium "$@" &
    fi
else
    # Launch new chromium instance
    exec uwsm app -- chromium "$@"
fi