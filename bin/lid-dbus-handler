#!/bin/bash

# Monitor journalctl for lid events from systemd-logind
journalctl -f -u systemd-logind | while read -r line; do
    if echo "$line" | grep -q "Lid closed"; then
        echo "$(date): Lid closed event detected" >> /tmp/lid-debug.log
        # Small delay to let the system settle
        sleep 0.5
        /home/tsah/dotfiles/bin/lid-switch-handler
    fi
done